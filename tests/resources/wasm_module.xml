<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<template name="wasm-module-format" version="0.1">
    <field name="magic" size="4" signature="0x0061736D"></field>
    <field name="version" size="4" signature="0x01000000"></field>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="type-section" signature="0x01" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <vector name="function-types">
            <field name="length" size="{converter=leb128size}"></field>
            <vector name="function-type" count="{length, converter=leb128u}">
                <field name="typeid" size="1" signature="0x60"></field>
                <vector name="parameter-types">
                    <field name="length" size="{converter=leb128size}"></field>
                    <field name="valtype" size="1" count="{length, converter=leb128u}"></field>
                </vector>
                <vector name="result-types">
                    <field name="length"  size="{converter=leb128size}"></field>
                    <field name="valtype" size="1" count="{length, converter=leb128u}"></field>
                </vector>
            </vector>
        </vector>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="import-section" signature="0x02" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="function-section" signature="0x03" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <vector name="type-indices">
            <field name="length" size="{converter=leb128size}"></field>
            <field name="function-typeidx"
                   size="{converter=leb128size}"
                   count="{length, converter=leb128u}">
            </field>
        </vector>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="table-section" signature="0x04" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="memory-section" signature="0x05" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="global-section" signature="0x06" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="export-section" signature="0x07" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="start-section" signature="0x08" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="start-funcidx" size="{converter=leb128size}"></field>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="element-section" signature="0x09" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="code-section" signature="0x0A" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <vector name="code">
            <field name="length" size="{converter=leb128size}"></field>
            <field name="function" count="{length, converter=leb128u}">
                <field name="size" size="{converter=leb128size}"></field>
                <vector name="locals">
                    <field name="length" size="{converter=leb128size}"></field>
                    <field name="valtype"
                           size="{converter=leb128size}"
                           count="{length, converter=leb128u}">
                    </field>
                </vector>
                <field name="instructions" size="{size, converter=leb128u}"></field>
            </field>
        </vector>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
    <section name="data-section" signature="0x0B" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
    </section>
    <section name="custom-section" signature="0x00" hint="optional">
        <field name="id" size="1"></field>
        <field name="size" size="{converter=leb128size}"></field>
        <field name="blob" size="{size, converter=leb128u}"></field>
    </section>
</template>
